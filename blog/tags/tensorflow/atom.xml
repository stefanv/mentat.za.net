<?xml version="1.0" encoding="utf-8"?> 
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en-us">
    <generator uri="https://gohugo.io/" version="0.80.0">Hugo</generator><title type="html"><![CDATA[tensorflow on Stéfan's blog]]></title>
    
    
    
            <link href="https://mentat.za.net/blog/tags/tensorflow/" rel="alternate" type="text/html" title="HTML" />
            <link href="https://mentat.za.net/blog/tags/tensorflow/atom.xml" rel="self" type="application/atom" title="atom" />
    <updated>2021-01-14T01:38:53-08:00</updated>
    
    
    <author>
            <name>Stéfan van der Walt</name>
            </author>
    
        <id>https://mentat.za.net/blog/tags/tensorflow/</id>
    
        
        <entry>
            <title type="html"><![CDATA[Compile TensorFlow from source with gcc6.1]]></title>
            <link href="https://mentat.za.net/blog/2016/09/14/tensorflow-gcc6-1/?utm_source=atom_feed" rel="alternate" type="text/html" />
            
                <link href="https://mentat.za.net/blog/2016/02/26/matplotlib-on-osx/?utm_source=atom_feed" rel="related" type="text/html" title="Python &amp; Matplotlib on OSX" />
                <link href="https://mentat.za.net/blog/2013/06/27/scipy2013-proceedings/?utm_source=atom_feed" rel="related" type="text/html" title="SciPy2013 Proceedings" />
                <link href="https://mentat.za.net/blog/2012/10/15/replicable-super-resolution-paper/?utm_source=atom_feed" rel="related" type="text/html" title="Replicable super-resolution paper" />
                <link href="https://mentat.za.net/blog/2012/09/30/scikits-image-0-dot-7/?utm_source=atom_feed" rel="related" type="text/html" title="scikits-image 0.7" />
                <link href="https://mentat.za.net/blog/2012/09/25/emacs-package-management/?utm_source=atom_feed" rel="related" type="text/html" title="Emacs package management" />
            
                <id>https://mentat.za.net/blog/2016/09/14/tensorflow-gcc6-1/</id>
            
            
            <published>2016-09-14T00:00:00+00:00</published>
            <updated>0001-01-01T00:00:00+00:00</updated>
            
            
            <content type="html"><![CDATA[<blockquote>Where we build TensorFlow from scratch.</blockquote><p>Due to two bugs in gcc 6.1
<a href="https://github.com/google/re2/issues/102">affecting the re2 library</a>
(one of which has been fixed in 6.2)),
<a href="https://www.tensorflow.org/">TensorFlow</a> cannot be
<a href="https://www.tensorflow.org/versions/r0.10/get_started/os_setup.html">compiled from source</a>
one some systems (including my Debian Testing install).</p>
<p>To work around the issue, modify <code>tensorflow/workspace.bzl</code> and
change the re2 description to:</p>
<pre><code>native.git_repository(
  name = &quot;com_googlesource_code_re2&quot;,
  remote = &quot;https://github.com/stefanv/re2.git&quot;,
  commit = &quot;86503cb89d82b723ae0bce35e1e09524910cd319&quot;,
)
</code></pre><p>The re2 library is now downloaded from my fork, which applies a
<a href="https://github.com/stefanv/re2/commit/86503cb89d82b723ae0bce35e1e09524910cd319">one line patch</a>.</p>
<p>Compile the TensorFlow Python package as usual with:</p>
<pre><code>bazel build -c opt //tensorflow/tools/pip_package:build_pip_package
bazel-bin/tensorflow/tools/pip_package/build_pip_package /tmp/tensorflow_pkg
</code></pre><p>After installing the pip wheel using</p>
<pre><code>pip install /tmp/tensorflow_pkg/*.whl
</code></pre><p>you should have a working installation.  If importing fails with</p>
<div class="highlight"><pre style="background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">ImportError: cannot import name &#39;pywrap_tensorflow&#39;
</code></pre></div><p>switch out of the TensorFlow source directory and try again.</p>
]]></content>
            
                 
                
                 
                
                         
                        
                        
                            
                             
                                <category scheme="taxonomy:Tags" term="tensorflow" label="tensorflow" />
                             
                                <category scheme="taxonomy:Tags" term="python" label="python" />
                            
                        
                    
                
            
        </entry>
    
</feed>
